{V "system","header"}
<script src="/resource/js/zTree/jquery.ztree.all-3.5.min.js" type="text/javascript"></script>
<link rel="stylesheet" href="/resource/js/zTree/demo.css" type="text/css">
<link rel="stylesheet" href="/resource/js/zTree/metroStyle/metroStyle.css" type="text/css">
<SCRIPT type="text/javascript">
        <!--
       
        var setting = {
            async: {
                enable: true,
                url:"index.php?m=system&c=attribute&a=json_tree",
                autoParam:["id", "name=n", "level=lv","s=s","d=d","v=v","g=g"],
                otherParam:{},
                dataFilter: filter
            },
            callback: {
                onClick: open
            }
        };

        function filter(treeId, parentNode, childNodes) {
            if (!childNodes) return null;
            return childNodes;
        }

        $(document).ready(function(){
            $.fn.zTree.init($("#tree"), setting);
        });



        function open(event, treeId, treeNode) {
            var uri = 'index.php?m=mini_video&c=test&a=videoList&sValue='+treeNode.s+'&dValue='+treeNode.d+'&vValue='+treeNode.v+'&gValue='+treeNode.g;
            var parentpos = 'aaaa<span>&gt;</span><span>aaaa</span><span>&gt;</span>';
            var te = treeNode.name;
            var treeObj = $.fn.zTree.getZTreeObj("tree");
            var sNodes = treeObj.getSelectedNodes();
            var parentTId = sNodes[0].parentTId;
               
            var snode = dnode = vnode = '';

            if(treeNode.g !='0'){
                treeNode = treeObj.getNodeByTId(parentTId);
                vnode = treeNode.name+"<span>></span>";
            }

            if(treeNode.v !='0'){
                treeNode = treeObj.getNodeByTId(treeNode.parentTId);
                dnode = treeNode.name+"<span>></span>";
            }

            if(treeNode.d !='0'){
                treeNode = treeObj.getNodeByTId(treeNode.parentTId);
                snode = treeNode.name+"<span>></span>";
            }
            
            top.$("#position").html(parentpos+snode+dnode+vnode+te+"<span>></span>");
            parent.$("#iframeid").attr('src',uri);
        };
       
        //-->
    </SCRIPT>
<body class="body categorytree">
<div class="treelistmain">
    <div class="treelist">
        <section class="treepanel">
            <div id="panel-bodys">
                <ul id="tree" class="ztree" style="height: auto; width: 180px;"></ul>          
            </div>
        </section>
    </div>
</div>
<script src="resource/js/bootstrap.min.js"></script>
<script src="resource/js/jquery.nicescroll.js" type="text/javascript"></script>
<script type="text/javascript">
    $(".categorytree").niceScroll({cursorwidth: '6',horizrailenabled:false,mousescrollstep:55,autohidemode:false,cursorborder:"none",cursorcolor : "#c4c8d2"});
</script>